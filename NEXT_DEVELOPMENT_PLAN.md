# 下一步开发计划

## 功能优先级

1. 搜索功能 - 高优先级
2. 分页/连续滚动 - 高优先级
3. 嵌套评论 - 中优先级

## 搜索功能开发

### 后端实现
- 在`backend/src/routes/posts.ts`中添加搜索端点
- 实现数据库查询以支持标题和文本搜索
- 添加搜索结果排序选项

### 前端实现
- 创建搜索栏组件
- 实现搜索结果页面
- 添加搜索历史记录功能

## 分页/连续滚动开发

### 后端实现
- 修改`/posts/hot`端点以支持分页参数
- 添加`limit`和`offset`查询参数
- 实现游标分页（可选）

### 前端实现
- 创建分页组件或无限滚动组件
- 实现数据加载状态显示
- 添加加载更多按钮或自动滚动加载

## 嵌套评论开发

### 数据库修改
- 修改`comments`表以添加`parentId`字段
- 添加外键约束

### 后端实现
- 修改评论API以处理嵌套结构
- 实现递归评论查询
- 添加评论层级限制

### 前端实现
- 创建嵌套评论显示组件
- 实现评论回复功能
- 添加评论折叠/展开功能

## 开发顺序建议

1. 先实现分页功能，因为这是性能优化的基础
2. 然后实现搜索功能，提升用户体验
3. 最后实现嵌套评论，增加交互深度

## 技术考虑

- 确保所有新功能都有相应的测试
- 保持API的一致性和向后兼容性
- 优化数据库查询以提高性能
- 考虑SEO友好性（特别是对于静态导出）